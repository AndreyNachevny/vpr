# Лабораторная работа #4 - sh скрипты


## Работа

#### 1. Объясните, как работают программы (+назовите синтаксические конструкции языка Shell-сценариев, требующих понимания их структуры):

**Листинг 1 – вывод позиционных параметров**
```sh
#/bin/sh            # Комментарий означает путь до интерпритатора
echo скрипт $0      # 'echo' - вывод в консоль "скрипт $0" - где $0 - 0й арг - он же имя исп файла (см пример).
echo $1 $2 $3       # Вывод 1, 2, 3-го позиц. арг.
shift               # сдвиг влево на 1 арг (т.к арг команды не указан)
echo $1 $2 $3       # Вывод 1, 2, 3-го позиц. арг.
```
Пример:
```bash
>>> ./l1.sh 1 2 3 4
скрипт ./l1.sh
1 2 3
2 3 4
```
Причем наш скрипт изначально не сожержал `$4` - прямое использовние 4го арг-та, однако `shift` выполнило сдиг


**Листинг 2 – анализ количества входных параметров**
```sh
#!/bin/sh
if [ $# -lt 2 ]                   # Если не обнаружены: 1вый и 2й позиц. аргументы
then                              # То
	echo usage: $0 arg1 arg2        # Вывод: "usage: $0 arg1 arg2"
	exit 1                          # Выход с кодом 1
fi                                #
```
Примеры:
```bash
>>> ./l2.sh
echo usage: $0 arg1 arg2
```
```bash
>>> ./l2.sh 1
echo usage: $0 arg1 arg2
```
```bash
>>> ./l2.sh 1 2

```

**Листинг 3 – поиск и визуализация результата**
```sh
#/bin/sh
grep user1 /etc/passwd		# Поиск всех строк в файле '/etc/passwd', в которых встречается слово user1
if [ $? -ne 0 ]			# Если 0
then
	echo пользователь user1 в системе не зарегистрирован
fi
```
Пример:
```bash
>>> ./l3.sh
пользователь user1 в системе не зарегистрирован
```

**Листинг 4 – вывод содержимого временного файла**
```sh
#!/bin/sh
tempfile=/tmp/tmp.$$		# Переменной 'tempfile' присвоено значение '/tmp/tmp.$$'
touch $tempfile			# Создать пустой файл на (знач переменной 'tempfile')
cat $tempfile			# Вывести содержимое файла на (знач переменной 'tempfile')
rm  $tempfile			# Удалить файл на (знач переменной 'tempfile')
```
Пример:
```bash
>>> ./l4.sh

```

